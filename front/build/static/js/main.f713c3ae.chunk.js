(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{53:function(e,t,a){e.exports=a(89)},58:function(e,t,a){},59:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(47),o=a.n(i),c=(a(58),a(6)),l=a(50);a(59),a(60);function s(){return r.a.createElement("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/#"},"Cycle-hunter 9000")))}var m=a(48),h=a(16),u=a.n(h);function g(e){return e.data}var d={automaticRearrangeAfterDropNode:!0,collapsible:!0,directed:!0,focusAnimationDuration:0,focusZoom:1,height:800,highlightDegree:2,highlightOpacity:1,linkHighlightBehavior:!0,maxZoom:8,minZoom:.1,nodeHighlightBehavior:!0,panAndZoom:!1,staticGraph:!1,staticGraphWithDragAndDrop:!1,width:1500,d3:{alphaTarget:.05,gravity:-200,linkLength:300,linkStrength:1,disableLinkForce:!1},node:{color:"grey",fontColor:"black",fontSize:15,fontWeight:"normal",highlightColor:"orange",highlightFontSize:8,highlightFontWeight:"normal",highlightStrokeColor:"SAME",highlightStrokeWidth:"SAME",labelProperty:"id",mouseCursor:"pointer",opacity:1,renderLabel:!0,size:100,strokeColor:"none",strokeWidth:1.5,svg:"",symbolType:"circle"},link:{color:"#d3d3d3",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"black",highlightFontSize:8,highlightFontWeight:"normal",labelProperty:"label",mouseCursor:"pointer",opacity:1,renderLabel:!1,semanticStrokeWidth:!1,strokeWidth:2,markerHeight:3,markerWidth:3}};var f=function(){var e=Object(n.useState)({cycles:[],graphData:{nodes:[],links:[]},description:[]}),t=Object(l.a)(e,2),a=t[0],i=t[1];Object(n.useEffect)((function(){u.a.get("/cycles").then(g).then((function(e){return i((function(t){return Object(c.a)(Object(c.a)({},t),{},{cycles:e})}))}))}),[]);var o=function(e){return{nodes:e.map((function(e){return{id:e.name}})),links:e.flatMap((function(e){return e.uses.map((function(t){return{source:e.name,target:t}}))}))}},h=function(e){var t;(t=e,u.a.get("/cycle/".concat(t)).then(g)).then(o).then((function(e){return i(Object(c.a)(Object(c.a)({},a),{},{graphData:e}))}))},f=function(){u.a.get("/graph").then(g).then(o).then((function(e){return i(Object(c.a)(Object(c.a)({},a),{},{graphData:e}))}))};return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"columns is-marginless"},r.a.createElement("div",{className:"column is-one-fifth"},r.a.createElement("div",{className:"list"},r.a.createElement("a",{key:"complete-graph",href:"/#",className:"list-item",onClick:function(e){return f()}},"Complete dependency graph"),a.cycles.map((function(e,t){return r.a.createElement("a",{key:t,href:"/#",className:"list-item",onClick:function(e){return h(t)}},e.length," item cycle")})))),r.a.createElement("div",{className:"column"},0===a.graphData.nodes.length?void 0:r.a.createElement("div",{style:{border:"black",borderWidth:1,borderStyle:"dashed"}},r.a.createElement(m.Graph,{id:"cycle-graph",data:a.graphData,config:d,onClickLink:function(e,t){var n=(void 0===a.graphData.links.find((function(a){return a.source===t&&a.target===e}))?[[e,t]]:[[t,e],[e,t]]).map((function(e){return t=e[0],a=e[1],u.a.get("/imports/".concat(t,"/").concat(a)).then(g);var t,a}));Promise.all(n).then((function(e){return i(Object(c.a)(Object(c.a)({},a),{},{description:e.map((function(e){return{from:e.from,to:e.to,imports:e.imports}}))}))}))}})))),r.a.createElement("div",{className:"columns",style:{marginLeft:"auto"}},a.description.map((function(e){return r.a.createElement("div",{className:"column"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"has-text-centered"},"".concat(e.to," imports in ").concat(e.from)))),r.a.createElement("tbody",null,e.imports.map((function(e){return r.a.createElement("tr",{className:"has-text-left"},e)})))))})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f713c3ae.chunk.js.map